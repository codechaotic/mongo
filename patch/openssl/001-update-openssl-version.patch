From 1c3f215cd91c3297137c3a5b7c0943be778b0026 Mon Sep 17 00:00:00 2001
From: codechaotic <thinkinfractals@gmail.com>
Date: Tue, 28 Jul 2015 12:45:52 -0400
Subject: [PATCH] update openssl version

---
 package/openssl/001-do-not-build-docs.patch        | 14 ++++++-----
 ...-match-commands-starting-with-minus-inste.patch | 27 ----------------------
 package/openssl/openssl.hash                       |  8 +++----
 package/openssl/openssl.mk                         |  2 +-
 4 files changed, 13 insertions(+), 38 deletions(-)
 delete mode 100644 package/openssl/005-Make-c_rehash-match-commands-starting-with-minus-inste.patch

diff --git a/package/openssl/001-do-not-build-docs.patch b/package/openssl/001-do-not-build-docs.patch
index 135a9d3..0997eb4 100644
--- a/package/openssl/001-do-not-build-docs.patch
+++ b/package/openssl/001-do-not-build-docs.patch
@@ -2,12 +2,14 @@ Dont waste time building manpages if we're not going to use em.
 
 --- openssl/Makefile.org
 +++ openssl/Makefile.org
-@@ -792,7 +792,7 @@
+@@ -514,7 +514,7 @@
  dist_pem_h:
- 	(cd crypto/pem; $(MAKE) CC='${CC}' SDIRS='${SDIRS}' CFLAG='${CFLAG}' pem.h; $(MAKE) clean)
- 
+ 	(cd crypto/pem; $(MAKE) -e $(BUILDENV) pem.h; $(MAKE) clean)
+
 -install: all install_docs install_sw
 +install: all install_sw
- 
- install_sw:
- 	@$(PERL) $(TOP)/util/mkdir-p.pl $(INSTALL_PREFIX)$(INSTALLTOP)/bin \
+
+ uninstall: uninstall_sw uninstall_docs
+
+--
+1.9.1
diff --git a/package/openssl/005-Make-c_rehash-match-commands-starting-with-minus-inste.patch b/package/openssl/005-Make-c_rehash-match-commands-starting-with-minus-inste.patch
deleted file mode 100644
index 5db95d6..0000000
--- a/package/openssl/005-Make-c_rehash-match-commands-starting-with-minus-inste.patch
+++ /dev/null
@@ -1,27 +0,0 @@
-From 079cae9d7628f16b9efdf5723d2bfae5bdc2ba4e Mon Sep 17 00:00:00 2001
-From: Gustavo Zacarias <gustavo@zacarias.com.ar>
-Date: Tue, 27 Jan 2015 18:27:32 -0300
-Subject: [PATCH] Make c_rehash match commands starting with - (minus) instead
- of minus in any starting position, otherwise a directory named a-b breaks it
-
-Signed-off-by: Gustavo Zacarias <gustavo@zacarias.com.ar>
----
- tools/c_rehash.in | 2 +-
- 1 file changed, 1 insertion(+), 1 deletion(-)
-
-diff --git a/tools/c_rehash.in b/tools/c_rehash.in
-index 887e927..1df2fab 100644
---- a/tools/c_rehash.in
-+++ b/tools/c_rehash.in
-@@ -15,7 +15,7 @@ my $symlink_exists=eval {symlink("",""); 1};
- my $removelinks = 1;
- 
- ##  Parse flags.
--while ( $ARGV[0] =~ '-.*' ) {
-+while ( $ARGV[0] =~ '^-.*' ) {
-     my $flag = shift @ARGV;
-     last if ( $flag eq '--');
-     if ( $flag =~ /-old/) {
--- 
-2.0.5
-
diff --git a/package/openssl/openssl.hash b/package/openssl/openssl.hash
index c9987fc..1311444 100644
--- a/package/openssl/openssl.hash
+++ b/package/openssl/openssl.hash
@@ -1,4 +1,4 @@
-# From https://www.openssl.org/source/openssl-1.0.2a.tar.gz.md5
-# From https://www.openssl.org/source/openssl-1.0.2a.tar.gz.sha1
-md5	a06c547dac9044161a477211049f60ef	openssl-1.0.2a.tar.gz
-sha1	46ecd325b8e587fa491f6bb02ad4a9fb9f382f5f	openssl-1.0.2a.tar.gz
+# From https://www.openssl.org/source/openssl-1.0.2d.tar.gz.md5
+# From https://www.openssl.org/source/openssl-1.0.2d.tar.gz.sha1
+md5	38dd619b2e77cbac69b99f52a053d25a	openssl-1.0.2d.tar.gz
+sha1	d01d17b44663e8ffa6a33a5a30053779d9593c3d	openssl-1.0.2d.tar.gz
diff --git a/package/openssl/openssl.mk b/package/openssl/openssl.mk
index f90c811..a27d2f2 100644
--- a/package/openssl/openssl.mk
+++ b/package/openssl/openssl.mk
@@ -4,7 +4,7 @@
 #
 ################################################################################
 
-OPENSSL_VERSION = 1.0.2a
+OPENSSL_VERSION = 1.0.2d
 OPENSSL_SITE = http://www.openssl.org/source
 OPENSSL_LICENSE = OpenSSL or SSLeay
 OPENSSL_LICENSE_FILES = LICENSE
-- 
1.9.1

